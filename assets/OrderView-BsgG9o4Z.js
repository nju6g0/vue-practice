import{d as V}from"./data-C9WNrbqo.js";import{r as $,c as k,a as s,w as i,F as _,b as C,d as m,o as u,e as f,f as d,t as x,g as r}from"./index-D5AwOB9j.js";const B=C("h1",null,"六角學院 vue 直播班 - 第一週作業",-1),F={__name:"OrderView",setup(w){const y=[{title:"品項",dataIndex:"name",key:"name"},{title:"描述",dataIndex:"description",key:"description"},{title:"價格",dataIndex:"price",key:"price"},{title:"庫存",dataIndex:"stock",key:"stock"}],e=$(V.map(a=>(a.isEditing=!1,a.tempName=a.name,a))),I=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].stock<=0||e.value[t].stock--},g=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].stock++},h=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].isEditing=!0},N=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].name=e.value[t].tempName,e.value[t].isEditing=!1},b=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].tempName=e.value[t].name,e.value[t].isEditing=!1};return(a,t)=>{const n=m("a-input"),c=m("a-button"),p=m("a-flex"),E=m("a-table");return u(),k(_,null,[B,s(E,{"data-source":e.value,columns:y},{bodyCell:i(({column:v,record:l})=>[v.key==="name"?(u(),k(_,{key:0},[l.isEditing?(u(),f(p,{key:0},{default:i(()=>[s(n,{value:l.tempName,"onUpdate:value":o=>l.tempName=o},null,8,["value","onUpdate:value"]),s(c,{onClick:o=>N(l.id)},{default:i(()=>[d("確定 ")]),_:2},1032,["onClick"]),s(c,{onClick:o=>b(l.id)},{default:i(()=>[d("取消 ")]),_:2},1032,["onClick"])]),_:2},1024)):(u(),f(p,{key:1,gap:"middle"},{default:i(()=>[C("span",null,x(l.name),1),s(c,{onClick:o=>h(l.id)},{default:i(()=>[d("編輯 ")]),_:2},1032,["onClick"])]),_:2},1024))],64)):r("",!0),v.key==="stock"?(u(),k(_,{key:1},[s(c,{onClick:o=>I(l.id),disabled:l.stock<=0,size:"small"},{default:i(()=>[d(" - ")]),_:2},1032,["onClick","disabled"]),d(" "+x(l.stock)+" ",1),s(c,{onClick:o=>g(l.id),size:"small"},{default:i(()=>[d("+")]),_:2},1032,["onClick"])],64)):r("",!0)]),_:1},8,["data-source"])],64)}}};export{F as default};
