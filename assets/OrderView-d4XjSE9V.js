import{d as B}from"./data-C9WNrbqo.js";import{N as V}from"./NavBar-DEPxo3QW.js";import{r as $,c as k,a as i,w as s,F as p,b as C,d as m,o as u,e as f,f as d,t as r,g as x}from"./index-CPtHe2_p.js";const w=C("h1",null,"六角學院 vue 直播班 - 第一週作業",-1),O={__name:"OrderView",setup(z){const y=[{title:"品項",dataIndex:"name",key:"name"},{title:"描述",dataIndex:"description",key:"description"},{title:"價格",dataIndex:"price",key:"price"},{title:"庫存",dataIndex:"stock",key:"stock"}],e=$(B.map(a=>(a.isEditing=!1,a.tempName=a.name,a))),N=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].stock<=0||e.value[t].stock--},I=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].stock++},g=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].isEditing=!0},h=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].name=e.value[t].tempName,e.value[t].isEditing=!1},b=a=>{const t=e.value.findIndex(n=>n.id===a);e.value[t].tempName=e.value[t].name,e.value[t].isEditing=!1};return(a,t)=>{const n=m("a-input"),c=m("a-button"),_=m("a-flex"),E=m("a-table");return u(),k(p,null,[i(V),w,i(E,{"data-source":e.value,columns:y},{bodyCell:s(({column:v,record:l})=>[v.key==="name"?(u(),k(p,{key:0},[l.isEditing?(u(),f(_,{key:0},{default:s(()=>[i(n,{value:l.tempName,"onUpdate:value":o=>l.tempName=o},null,8,["value","onUpdate:value"]),i(c,{onClick:o=>h(l.id)},{default:s(()=>[d("確定 ")]),_:2},1032,["onClick"]),i(c,{onClick:o=>b(l.id)},{default:s(()=>[d("取消 ")]),_:2},1032,["onClick"])]),_:2},1024)):(u(),f(_,{key:1,gap:"middle"},{default:s(()=>[C("span",null,r(l.name),1),i(c,{onClick:o=>g(l.id)},{default:s(()=>[d("編輯 ")]),_:2},1032,["onClick"])]),_:2},1024))],64)):x("",!0),v.key==="stock"?(u(),k(p,{key:1},[i(c,{onClick:o=>N(l.id),disabled:l.stock<=0,size:"small"},{default:s(()=>[d(" - ")]),_:2},1032,["onClick","disabled"]),d(" "+r(l.stock)+" ",1),i(c,{onClick:o=>I(l.id),size:"small"},{default:s(()=>[d("+")]),_:2},1032,["onClick"])],64)):x("",!0)]),_:1},8,["data-source"])],64)}}};export{O as default};
